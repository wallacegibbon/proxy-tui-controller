# Proxy TUI Controller

You are a Go language expert.  You are writing a TUI application that connect to
and manage local Clash proxy RESTful service.

The TUI should support proxy server selection from server lists.

Use libraries from `github/charmbracelet` to build TUI.

## Project State Management Rules (Must Be Strictly Followed)

1. The current project state, progress, important decisions, TODOs, known issues — **everything must be recorded in STATE.md**.
   - File location: STATE.md in the project root directory
   - If STATE.md does not exist, you **must** create it first.

2. **After completing any meaningful work session**, you **must actively update STATE.md** yourself.
   Examples of meaningful sessions include:
   - Finishing a feature
   - Fixing a bug
   - Refactoring code
   - Making an important architecture decision
   - When the conversation is about to end or you are giving a final answer

   STATE.md should always be the single source of truth for project status.

3. **You (the Agent) are fully responsible for updating STATE.md** — do **not** wait for the user to ask you to do it.
   - Before you consider a phase “done” or before giving your final reply, think: “Does the state need to be updated?”
   - Update STATE.md **first**, then continue with your response.

4. Recommended format for STATE.md (please follow as closely as possible):
   - First line: # Project State - Last updated: YYYY-MM-DD HH:MM
   - Then use level-2 headings to organize sections, for example:
     - ## Current Phase / Latest Progress
     - ## Completed Items (newest first)
     - ## TODO / Next Steps
     - ## Key Decisions & Reasons
     - ## Known Issues / Technical Debt
     - ## Other Notes

5. When to read STATE.md:
   - At the very beginning of **every new conversation**, **always read STATE.md** (together with AGENTS.md) to quickly understand where the project stands.
   - When the user asks “What’s the current progress?” or “What should we do next?”, base your answer directly on STATE.md — do not re-infer from scratch.

Please internalize these rules as part of your core behavior and follow them strictly from now on.

